VCD info: dumpfile soc_tb.vcd opened for output.

╔══════════════════════════════════════════════════════════════╗
║     SoC MMIO Testbench — MMIO + Bubble Sort Integration    ║
╠══════════════════════════════════════════════════════════════╣
║  Program  : ../hex/sort_imem.txt                             ║
║  Halt     : 0x00000200                                     ║
║  CPU_DONE : 0x00000200                                     ║
║  Timeout  : 200000 cycles                                 ║
╚══════════════════════════════════════════════════════════════╝

──────────────────────────────────────────────────
  PHASE A: Basic MMIO Infrastructure Tests
──────────────────────────────────────────────────

[A1] CTRL read — expect idle (0)
[A2] IMEM sequential W+R (8 words)
[A3] DMEM sequential W+R (8 words)
[A4] Write-after-write — last value wins
[A5] Read-after-read — non-destructive
[A6] Random IMEM W+R (64 entries)
  Checked 56 IMEM addresses
[A7] Random DMEM W+R (64 entries)
  Checked 57 DMEM addresses
[A8] Mixed IMEM/DMEM interleaved (64 writes)
  Checked 162 total addresses

──────────────────────────────────────────────────
  PHASE B: Bubble Sort Integration Test
──────────────────────────────────────────────────

[B1] Loading hex file...
WARNING: ../tb/soc_tb.v:293: $readmemh(../hex/sort_imem.txt): Not enough words in the file for the requested range [0:4095].
  Loaded (HEX):    ../hex/sort_imem.txt
  First 8 words:
    [0x00000000] = 0xe92d4800
    [0x00000004] = 0xe28db004
    [0x00000008] = 0xe24dd038
    [0x0000000c] = 0xe59f3104
    [0x00000010] = 0xe24bc038
    [0x00000014] = 0xe1a0e003
    [0x00000018] = 0xe8be000f
    [0x0000001c] = 0xe8ac000f
  Placing halt (B . = 0xeafffffe) at word 128 (byte 0x00000200)
  Load extent: 1024 words (4096 bytes)
[B2] Resetting SoC...
[B3] Writing 1024 words to IMEM via MMIO...
  IMEM load complete.
[B4] Writing 1024 words to DMEM via MMIO...
  DMEM load complete.
[B5] Readback spot-check...
  [FAIL] SORT_IMEM0 @ 0x0  exp=0xe92d4800  got=0x00000000
  IMEM[0]         = 0x00000000 (expect 0xe92d4800)
  [FAIL] SORT_HALT_I @ 0x80  exp=0xeafffffe  got=0x00000000
  IMEM[128]      = 0x00000000 (expect 0xeafffffe = B .)
  DMEM[128]      = 0xeafffffe (expect 0xeafffffe = B .)
[B6] Initialising CPU registers...
[B7] Asserting external start pin...
  System busy (req_rdy=0) — CPU running
[B8] Running CPU (timeout=200000 cycles)...
  halt_addr = 0x00000200


[129746000] PC reached halt address 0x00000200 at cycle 127

════════════════════════════════════════════════════════════════
  END-OF-RUN: Bubble Sort  (127 cycles, exit=0)
════════════════════════════════════════════════════════════════
  +-----------------------------------------+
  |          Register File Dump             |
  +-----------------------------------------+
  |  R0   = 0x00000000  (0)
  |  R1   = 0x00000000  (0)
  |  R2   = 0x00000000  (0)
  |  R3   = 0x00000000  (0)
  |  R4   = 0x00000000  (0)
  |  R5   = 0x00000000  (0)
  |  R6   = 0x00000000  (0)
  |  R7   = 0x00000000  (0)
  |  R8   = 0x00000000  (0)
  |  R9   = 0x00000000  (0)
  |  R10  = 0x00000000  (0)
  |  R11  = 0x00000000  (0)
  |  R12  = 0x00000000  (0)
  |  R13  = 0x00000000  (0)
  |  R14  = 0x00000200  (512)
  |  R15  = 0x00000000  (0)
  +-----------------------------------------+
  |  CPSR  = 0000 (N=0 Z=0 C=0 V=0)    |
  +-----------------------------------------+

[B9] De-asserting start pin...
  MMIO available (req_rdy=1)
[B10] Reading 1024 DMEM words via MMIO...
  DMEM readback complete.
  Searching for sorted array in DMEM...
  Sorted array NOT FOUND in DMEM.
  ── Non-zero DMEM words (first 64 shown) ──
    [word    0 / 0x00000000] = 0xe92d4800  (-382908416)
    [word    1 / 0x00000004] = 0xe28db004  (-494030844)
    [word    2 / 0x00000008] = 0xe24dd038  (-498216904)
    [word    3 / 0x0000000c] = 0xe59f3104  (-442552060)
    [word    4 / 0x00000010] = 0xe24bc038  (-498352072)
    [word    5 / 0x00000014] = 0xe1a0e003  (-509550589)
    [word    6 / 0x00000018] = 0xe8be000f  (-390201329)
    [word    7 / 0x0000001c] = 0xe8ac000f  (-391380977)
    [word    8 / 0x00000020] = 0xe8be000f  (-390201329)
    [word    9 / 0x00000024] = 0xe8ac000f  (-391380977)
    [word   10 / 0x00000028] = 0xe89e0003  (-392298493)
    [word   11 / 0x0000002c] = 0xe88c0003  (-393478141)
    [word   12 / 0x00000030] = 0xe3a03000  (-476041216)
    [word   13 / 0x00000034] = 0xe50b3008  (-452251640)
    [word   14 / 0x00000038] = 0xea00002e  (-369098706)
    [word   15 / 0x0000003c] = 0xe51b3008  (-451203064)
    [word   16 / 0x00000040] = 0xe2833001  (-494718975)
    [word   17 / 0x00000044] = 0xe50b300c  (-452251636)
    [word   18 / 0x00000048] = 0xea000024  (-369098716)
    [word   19 / 0x0000004c] = 0xe51b300c  (-451203060)
    [word   20 / 0x00000050] = 0xe1a03103  (-509595389)
    [word   21 / 0x00000054] = 0xe2433004  (-498913276)
    [word   22 / 0x00000058] = 0xe083300b  (-528273397)
    [word   23 / 0x0000005c] = 0xe5132034  (-451731404)
    [word   24 / 0x00000060] = 0xe51b3008  (-451203064)
    [word   25 / 0x00000064] = 0xe1a03103  (-509595389)
    [word   26 / 0x00000068] = 0xe2433004  (-498913276)
    [word   27 / 0x0000006c] = 0xe083300b  (-528273397)
    [word   28 / 0x00000070] = 0xe5133034  (-451727308)
    [word   29 / 0x00000074] = 0xe1520003  (-514719741)
    [word   30 / 0x00000078] = 0xaa000015  (-1442840555)
    [word   31 / 0x0000007c] = 0xe51b300c  (-451203060)
    [word   32 / 0x00000080] = 0xe1a03103  (-509595389)
    [word   33 / 0x00000084] = 0xe2433004  (-498913276)
    [word   34 / 0x00000088] = 0xe083300b  (-528273397)
    [word   35 / 0x0000008c] = 0xe5133034  (-451727308)
    [word   36 / 0x00000090] = 0xe50b3010  (-452251632)
    [word   37 / 0x00000094] = 0xe51b3008  (-451203064)
    [word   38 / 0x00000098] = 0xe1a03103  (-509595389)
    [word   39 / 0x0000009c] = 0xe2433004  (-498913276)
    [word   40 / 0x000000a0] = 0xe083300b  (-528273397)
    [word   41 / 0x000000a4] = 0xe5132034  (-451731404)
    [word   42 / 0x000000a8] = 0xe51b300c  (-451203060)
    [word   43 / 0x000000ac] = 0xe1a03103  (-509595389)
    [word   44 / 0x000000b0] = 0xe2433004  (-498913276)
    [word   45 / 0x000000b4] = 0xe083300b  (-528273397)
    [word   46 / 0x000000b8] = 0xe5032034  (-452779980)
    [word   47 / 0x000000bc] = 0xe51b3008  (-451203064)
    [word   48 / 0x000000c0] = 0xe1a03103  (-509595389)
    [word   49 / 0x000000c4] = 0xe2433004  (-498913276)
    [word   50 / 0x000000c8] = 0xe083300b  (-528273397)
    [word   51 / 0x000000cc] = 0xe51b2010  (-451207152)
    [word   52 / 0x000000d0] = 0xe5032034  (-452779980)
    [word   53 / 0x000000d4] = 0xe51b300c  (-451203060)
    [word   54 / 0x000000d8] = 0xe2833001  (-494718975)
    [word   55 / 0x000000dc] = 0xe50b300c  (-452251636)
    [word   56 / 0x000000e0] = 0xe51b300c  (-451203060)
    [word   57 / 0x000000e4] = 0xe3530009  (-481099767)
    [word   58 / 0x000000e8] = 0xdaffffd7  (-620757033)
    [word   59 / 0x000000ec] = 0xe51b3008  (-451203064)
    [word   60 / 0x000000f0] = 0xe2833001  (-494718975)
    [word   61 / 0x000000f4] = 0xe50b3008  (-452251640)
    [word   62 / 0x000000f8] = 0xe51b3008  (-451203064)
    [word   63 / 0x000000fc] = 0xe3530009  (-481099767)

[B11] Verification...
  NO DATA — skipping order check

  NO DATA — skipping expected-value check

──────────────────────────────────────────────────
  PHASE C: ILA Debug Interface Verification
──────────────────────────────────────────────────

[C1] Reading registers via ILA debug port...
  ILA Reg[ 0] = 0x00000000  (hier: 0x00000000)
  ILA Reg[ 1] = 0x00000000  (hier: 0x00000000)
  ILA Reg[ 2] = 0x00000000  (hier: 0x00000000)
  ILA Reg[ 3] = 0x00000000  (hier: 0x00000000)
  ILA Reg[ 4] = 0x00000000  (hier: 0x00000000)
  ILA Reg[ 5] = 0x00000000  (hier: 0x00000000)
  ILA Reg[ 6] = 0x00000000  (hier: 0x00000000)
  ILA Reg[ 7] = 0x00000000  (hier: 0x00000000)
  ILA Reg[ 8] = 0x00000000  (hier: 0x00000000)
  ILA Reg[ 9] = 0x00000000  (hier: 0x00000000)
  ILA Reg[10] = 0x00000000  (hier: 0x00000000)
  ILA Reg[11] = 0x00000000  (hier: 0x00000000)
  ILA Reg[12] = 0x00000000  (hier: 0x00000000)
  ILA Reg[13] = 0x00000000  (hier: 0x00000000)
  ILA Reg[14] = 0x00000200  (hier: 0x00000200)
  ILA Reg[15] = 0x00000000  (hier: 0x00000000)

[C2] System debug probes...
  Sel[0]  PC         = 0x00000000  (CPU in reset, expect 0)
  Sel[1]  Instr      = 0x00000000
  Sel[4]  ALU result = 0x00000000
  Sel[7]  Controls   = 0x00000000
  Sel[8]  CPSR flags = 0x00000000
  [PASS] Debug bus free of X

╔══════════════════════════════════════════════════════════════╗
║                        SUMMARY                              ║
╠══════════════════════════════════════════════════════════════╣
║  Sort Cycles  :    127                                     ║
║  Sort Exit    : CLEAN (halt reached)                         ║
║  Sort Result  : NOT FOUND                                      ║
║  Checks       : 317 PASSED, 3 FAILED (320 total)            ║
╚══════════════════════════════════════════════════════════════╝
  >>> SOME TESTS FAILED <<<

../tb/soc_tb.v:929: $finish called at 181476000 (1ps)
